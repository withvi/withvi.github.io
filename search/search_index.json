{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Hack the Kubernetes with V\u0129 \u00b6 Kubernetes Basics \u00b6 If you don't know anything about Kubernetes this is a good start. Read it to learn about the architecture, components and basic actions in Kubernetes: Kubernetes Basics Pentesting Kubernetes \u00b6 From the Outside \u00b6 There are several possible Kubernetes services that you could find exposed on the Internet (or inside internal networks). If you find them you know there is Kubernetes environment in there. Depending on the configuration and your privileges you might be able to abuse that environment, for more information: Pentesting Kubernetes Services Enumeration inside a Pod \u00b6 If you manage to compromise a Pod read the following page to learn how to enumerate and try to escalate privileges/escape: Attacking Kubernetes from inside a Pod Enumerating Kubernetes with Credentials \u00b6 You might have managed to compromise user credentials, a user token or some service account token. You can use it to talk to the Kubernetes API service and try to enumerate it to learn more about it: Kubernetes Enumeration Another important details about enumeration and Kubernetes permissions abuse is the Kubernetes Role-Based Access Control (RBAC). If you want to abuse permissions, you first should read about it here: Kubernetes Role-Based Access Control (RBAC) Knowing about RBAC and having enumerated the environment you can now try to abuse the permissions with: Abusing Roles/ClusterRoles in Kubernetes Privesc to a different Namespace \u00b6 If you have compromised a namespace you can potentially escape to other namespaces with more interesting permissions/resources: Kubernetes Namespace Escalation From Kubernetes to the Cloud \u00b6 If you have compromised a K8s account or a pod, you might be able able to move to other clouds. This is because in clouds like AWS or GCP is possible to give a K8s SA permissions over the cloud. Kubernetes Access to other Clouds Kubernetes Hardening \u00b6 Kubernetes Hardening Kubernetes Network Attacks \u00b6 Kubernetes Network Attacks Labs to practice and learn \u00b6 https://securekubernetes.com/ https://madhuakula.com/kubernetes-goat/index.html","title":"Hack the Kubernetes with V\u0129"},{"location":"#hack-the-kubernetes-with-vi","text":"","title":"Hack the Kubernetes with V\u0129"},{"location":"#kubernetes-basics","text":"If you don't know anything about Kubernetes this is a good start. Read it to learn about the architecture, components and basic actions in Kubernetes: Kubernetes Basics","title":"Kubernetes Basics"},{"location":"#pentesting-kubernetes","text":"","title":"Pentesting Kubernetes"},{"location":"#from-the-outside","text":"There are several possible Kubernetes services that you could find exposed on the Internet (or inside internal networks). If you find them you know there is Kubernetes environment in there. Depending on the configuration and your privileges you might be able to abuse that environment, for more information: Pentesting Kubernetes Services","title":"From the Outside"},{"location":"#enumeration-inside-a-pod","text":"If you manage to compromise a Pod read the following page to learn how to enumerate and try to escalate privileges/escape: Attacking Kubernetes from inside a Pod","title":"Enumeration inside a Pod"},{"location":"#enumerating-kubernetes-with-credentials","text":"You might have managed to compromise user credentials, a user token or some service account token. You can use it to talk to the Kubernetes API service and try to enumerate it to learn more about it: Kubernetes Enumeration Another important details about enumeration and Kubernetes permissions abuse is the Kubernetes Role-Based Access Control (RBAC). If you want to abuse permissions, you first should read about it here: Kubernetes Role-Based Access Control (RBAC) Knowing about RBAC and having enumerated the environment you can now try to abuse the permissions with: Abusing Roles/ClusterRoles in Kubernetes","title":"Enumerating Kubernetes with Credentials"},{"location":"#privesc-to-a-different-namespace","text":"If you have compromised a namespace you can potentially escape to other namespaces with more interesting permissions/resources: Kubernetes Namespace Escalation","title":"Privesc to a different Namespace"},{"location":"#from-kubernetes-to-the-cloud","text":"If you have compromised a K8s account or a pod, you might be able able to move to other clouds. This is because in clouds like AWS or GCP is possible to give a K8s SA permissions over the cloud. Kubernetes Access to other Clouds","title":"From Kubernetes to the Cloud"},{"location":"#kubernetes-hardening","text":"Kubernetes Hardening","title":"Kubernetes Hardening"},{"location":"#kubernetes-network-attacks","text":"Kubernetes Network Attacks","title":"Kubernetes Network Attacks"},{"location":"#labs-to-practice-and-learn","text":"https://securekubernetes.com/ https://madhuakula.com/kubernetes-goat/index.html","title":"Labs to practice and learn"},{"location":"tags/","text":"Tags \u00b6 Following is a list of relevant tags: author \u00b6 About the author Getting started in hacking aws \u00b6 AWS circleci \u00b6 CircleCI cloud \u00b6 AWS CircleCI Github Jenkins docker \u00b6 Abusing Docker Socket for Privilege Escalation AppArmor AuthZ & AuthN - Docker Access Authorization Plugin Docker --privileged Docker release_agent cgroups escape Namespaces release_agent exploit - Relative Paths to PIDs Seccomp Sensitive Mounts github \u00b6 Github jenkins \u00b6 Jenkins k8s \u00b6 Abusing Roles/ClusterRoles in Kubernetes Attacking Kubernetes from inside a Pod Exposing Services in Kubernetes Kubernetes Access to other Clouds Kubernetes Basics Kubernetes Enumeration Kubernetes Kubernetes Namespace Escalation Kubernetes Network Attacks Kubernetes Role-Based Access Control (RBAC) Pentesting Kubernetes Services kubernetes \u00b6 Abusing Roles/ClusterRoles in Kubernetes Attacking Kubernetes from inside a Pod Exposing Services in Kubernetes Kubernetes Access to other Clouds Kubernetes Basics Kubernetes Enumeration Kubernetes Kubernetes Namespace Escalation Kubernetes Network Attacks Kubernetes Role-Based Access Control (RBAC) Pentesting Kubernetes Services linux \u00b6 Checklist - Linux Privilege Escalation DDexec Linux Capabilities Linux Environment Variables Useful Linux Commands Abusing Docker Socket for Privilege Escalation AppArmor AuthZ & AuthN - Docker Access Authorization Plugin Docker --privileged Docker release_agent cgroups escape Namespaces release_agent exploit - Relative Paths to PIDs Seccomp Sensitive Mounts microservices \u00b6 Monoliths vs Microservices monoliths \u00b6 Monoliths vs Microservices network \u00b6 44134 Pentesting Tiller (Helm) pentesting \u00b6 44134 Pentesting Tiller (Helm) reference \u00b6 Synopsis service mesh \u00b6 Basic Service Mesh task \u00b6 Overview tutorial \u00b6 Overview vi \u00b6 About the author Getting started in hacking w/vi \u00b6 About the author Getting started in hacking","title":"Tags"},{"location":"tags/#tags","text":"Following is a list of relevant tags:","title":"Tags"},{"location":"tags/#author","text":"About the author Getting started in hacking","title":"author"},{"location":"tags/#aws","text":"AWS","title":"aws"},{"location":"tags/#circleci","text":"CircleCI","title":"circleci"},{"location":"tags/#cloud","text":"AWS CircleCI Github Jenkins","title":"cloud"},{"location":"tags/#docker","text":"Abusing Docker Socket for Privilege Escalation AppArmor AuthZ & AuthN - Docker Access Authorization Plugin Docker --privileged Docker release_agent cgroups escape Namespaces release_agent exploit - Relative Paths to PIDs Seccomp Sensitive Mounts","title":"docker"},{"location":"tags/#github","text":"Github","title":"github"},{"location":"tags/#jenkins","text":"Jenkins","title":"jenkins"},{"location":"tags/#k8s","text":"Abusing Roles/ClusterRoles in Kubernetes Attacking Kubernetes from inside a Pod Exposing Services in Kubernetes Kubernetes Access to other Clouds Kubernetes Basics Kubernetes Enumeration Kubernetes Kubernetes Namespace Escalation Kubernetes Network Attacks Kubernetes Role-Based Access Control (RBAC) Pentesting Kubernetes Services","title":"k8s"},{"location":"tags/#kubernetes","text":"Abusing Roles/ClusterRoles in Kubernetes Attacking Kubernetes from inside a Pod Exposing Services in Kubernetes Kubernetes Access to other Clouds Kubernetes Basics Kubernetes Enumeration Kubernetes Kubernetes Namespace Escalation Kubernetes Network Attacks Kubernetes Role-Based Access Control (RBAC) Pentesting Kubernetes Services","title":"kubernetes"},{"location":"tags/#linux","text":"Checklist - Linux Privilege Escalation DDexec Linux Capabilities Linux Environment Variables Useful Linux Commands Abusing Docker Socket for Privilege Escalation AppArmor AuthZ & AuthN - Docker Access Authorization Plugin Docker --privileged Docker release_agent cgroups escape Namespaces release_agent exploit - Relative Paths to PIDs Seccomp Sensitive Mounts","title":"linux"},{"location":"tags/#microservices","text":"Monoliths vs Microservices","title":"microservices"},{"location":"tags/#monoliths","text":"Monoliths vs Microservices","title":"monoliths"},{"location":"tags/#network","text":"44134 Pentesting Tiller (Helm)","title":"network"},{"location":"tags/#pentesting","text":"44134 Pentesting Tiller (Helm)","title":"pentesting"},{"location":"tags/#reference","text":"Synopsis","title":"reference"},{"location":"tags/#service-mesh","text":"Basic Service Mesh","title":"service mesh"},{"location":"tags/#task","text":"Overview","title":"task"},{"location":"tags/#tutorial","text":"Overview","title":"tutorial"},{"location":"tags/#vi","text":"About the author Getting started in hacking","title":"vi"},{"location":"tags/#wvi","text":"About the author Getting started in hacking","title":"w/vi"},{"location":"content/en/docs/cloud/aws/aws/","tags":["cloud","aws"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"AWS"},{"location":"content/en/docs/cloud/aws/aws/#overview","text":"","title":"Overview"},{"location":"content/en/docs/cloud/aws/aws/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/cloud/aws/aws/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/cloud/aws/aws/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/cloud/aws/aws/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/cloud/aws/aws/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/cloud/circleci/circleci/","tags":["cloud","circleci"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"CircleCI"},{"location":"content/en/docs/cloud/circleci/circleci/#overview","text":"","title":"Overview"},{"location":"content/en/docs/cloud/circleci/circleci/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/cloud/circleci/circleci/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/cloud/circleci/circleci/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/cloud/circleci/circleci/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/cloud/circleci/circleci/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/cloud/github/basic-github-information/","tags":["cloud","github"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6 v","title":"Github"},{"location":"content/en/docs/cloud/github/basic-github-information/#overview","text":"","title":"Overview"},{"location":"content/en/docs/cloud/github/basic-github-information/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/cloud/github/basic-github-information/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/cloud/github/basic-github-information/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/cloud/github/basic-github-information/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/cloud/github/basic-github-information/#whatsnext","text":"v","title":"Whatsnext"},{"location":"content/en/docs/cloud/jenkins/jenkins/","tags":["cloud","jenkins"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Jenkins"},{"location":"content/en/docs/cloud/jenkins/jenkins/#overview","text":"","title":"Overview"},{"location":"content/en/docs/cloud/jenkins/jenkins/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/cloud/jenkins/jenkins/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/cloud/jenkins/jenkins/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/cloud/jenkins/jenkins/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/cloud/jenkins/jenkins/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/kubernetes/abusing-roles-clusterroles-in-kubernetes/","tags":["kubernetes","k8s"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Abusing Roles/ClusterRoles in Kubernetes"},{"location":"content/en/docs/kubernetes/abusing-roles-clusterroles-in-kubernetes/#overview","text":"","title":"Overview"},{"location":"content/en/docs/kubernetes/abusing-roles-clusterroles-in-kubernetes/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/kubernetes/abusing-roles-clusterroles-in-kubernetes/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/kubernetes/abusing-roles-clusterroles-in-kubernetes/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/kubernetes/abusing-roles-clusterroles-in-kubernetes/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/kubernetes/abusing-roles-clusterroles-in-kubernetes/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/kubernetes/attacking-kubernetes-from-inside-a-pod/","tags":["kubernetes","k8s"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Attacking Kubernetes from inside a Pod"},{"location":"content/en/docs/kubernetes/attacking-kubernetes-from-inside-a-pod/#overview","text":"","title":"Overview"},{"location":"content/en/docs/kubernetes/attacking-kubernetes-from-inside-a-pod/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/kubernetes/attacking-kubernetes-from-inside-a-pod/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/kubernetes/attacking-kubernetes-from-inside-a-pod/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/kubernetes/attacking-kubernetes-from-inside-a-pod/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/kubernetes/attacking-kubernetes-from-inside-a-pod/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/kubernetes/exposing-services-in-kubernetes/","tags":["kubernetes","k8s"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Exposing Services in Kubernetes"},{"location":"content/en/docs/kubernetes/exposing-services-in-kubernetes/#overview","text":"","title":"Overview"},{"location":"content/en/docs/kubernetes/exposing-services-in-kubernetes/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/kubernetes/exposing-services-in-kubernetes/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/kubernetes/exposing-services-in-kubernetes/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/kubernetes/exposing-services-in-kubernetes/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/kubernetes/exposing-services-in-kubernetes/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/kubernetes/kubernetes-access-to-other-clouds/","tags":["kubernetes","k8s"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Kubernetes Access to other Clouds"},{"location":"content/en/docs/kubernetes/kubernetes-access-to-other-clouds/#overview","text":"","title":"Overview"},{"location":"content/en/docs/kubernetes/kubernetes-access-to-other-clouds/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/kubernetes/kubernetes-access-to-other-clouds/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/kubernetes/kubernetes-access-to-other-clouds/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/kubernetes/kubernetes-access-to-other-clouds/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/kubernetes/kubernetes-access-to-other-clouds/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/kubernetes/kubernetes-basics/","tags":["kubernetes","k8s"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Kubernetes Basics"},{"location":"content/en/docs/kubernetes/kubernetes-basics/#overview","text":"","title":"Overview"},{"location":"content/en/docs/kubernetes/kubernetes-basics/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/kubernetes/kubernetes-basics/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/kubernetes/kubernetes-basics/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/kubernetes/kubernetes-basics/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/kubernetes/kubernetes-basics/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/kubernetes/kubernetes-enumeration/","tags":["kubernetes","k8s"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Kubernetes Enumeration"},{"location":"content/en/docs/kubernetes/kubernetes-enumeration/#overview","text":"","title":"Overview"},{"location":"content/en/docs/kubernetes/kubernetes-enumeration/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/kubernetes/kubernetes-enumeration/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/kubernetes/kubernetes-enumeration/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/kubernetes/kubernetes-enumeration/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/kubernetes/kubernetes-enumeration/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/kubernetes/kubernetes-hardening/","tags":["kubernetes","k8s"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Kubernetes"},{"location":"content/en/docs/kubernetes/kubernetes-hardening/#overview","text":"","title":"Overview"},{"location":"content/en/docs/kubernetes/kubernetes-hardening/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/kubernetes/kubernetes-hardening/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/kubernetes/kubernetes-hardening/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/kubernetes/kubernetes-hardening/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/kubernetes/kubernetes-hardening/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/kubernetes/kubernetes-namespace-escalation/","tags":["kubernetes","k8s"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Kubernetes Namespace Escalation"},{"location":"content/en/docs/kubernetes/kubernetes-namespace-escalation/#overview","text":"","title":"Overview"},{"location":"content/en/docs/kubernetes/kubernetes-namespace-escalation/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/kubernetes/kubernetes-namespace-escalation/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/kubernetes/kubernetes-namespace-escalation/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/kubernetes/kubernetes-namespace-escalation/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/kubernetes/kubernetes-namespace-escalation/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/kubernetes/kubernetes-network-attacks/","tags":["kubernetes","k8s"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Kubernetes Network Attacks"},{"location":"content/en/docs/kubernetes/kubernetes-network-attacks/#overview","text":"","title":"Overview"},{"location":"content/en/docs/kubernetes/kubernetes-network-attacks/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/kubernetes/kubernetes-network-attacks/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/kubernetes/kubernetes-network-attacks/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/kubernetes/kubernetes-network-attacks/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/kubernetes/kubernetes-network-attacks/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/kubernetes/kubernetes-role-based-access-control/","tags":["kubernetes","k8s"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Kubernetes Role-Based Access Control (RBAC)"},{"location":"content/en/docs/kubernetes/kubernetes-role-based-access-control/#overview","text":"","title":"Overview"},{"location":"content/en/docs/kubernetes/kubernetes-role-based-access-control/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/kubernetes/kubernetes-role-based-access-control/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/kubernetes/kubernetes-role-based-access-control/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/kubernetes/kubernetes-role-based-access-control/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/kubernetes/kubernetes-role-based-access-control/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/","tags":["kubernetes","k8s"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6 Pentesting Kubernetes Services \u00b6 Finding exposed pods with OSINT \u00b6 One way could be searching for Identity LIKE \"k8s.%.com\" in crt.sh to find subdomains related to kubernetes. Another way might be to search \"k8s.%.com\" in github and search for YAML files containing the string. How Kubernetes Exposes Services \u00b6 It might be useful for us to understand how Kubernetes can expose services publicly in order to find them: Exposing Services in Kubernetes Finding Exposed pods via port scanning \u00b6 The following ports might be open in Kubernetes cluster: Port Process Description Protocol 2379 etcd TCP 6666 etcd etcd TCP 4194 cAdvisor Container metrics TCP 443 kube-apiserver Kubernetes API port TCP 6443 kube-apiserver Kubernetes API port TCP 8443 kube-apiserver Minukube API port TCP 8080 kube-apiserver Insecure API port TCP 10250 kubelet HTTPS API which allows full mode access TCP 10255 kubelet Unauthenticated read-only HTTP port: pods, running pods, and node state TCP 10256 kube-proxy Kube Proxy health check server TCP 9099 calico-felix Health check server for Calico TCP 6782-6784 weave Metrics and endpoints TCP 30000-32767 NodePort Proxy to the services TCP 44134 Tiller Helm service listening TCP Nmap \u00b6 Example Syntax 1 nmap -n -T4 -p 443 ,2379,6666,4194,6443,8443,8080,10250,10255,10256,9099,6782-6784,30000-32767,44134 10 .244.0.137/16 1 nmap -n -T4 -p 443 ,2379,6666,4194,6443,8443,8080,10250,10255,10256,9099,6782-6784,30000-32767,44134 <pod_ipaddress>/16 Kube-apiserver \u00b6 This is the API Kubernetes service the administrator talks with usually using the tool kubeclt . Common ports: 6443 and 443 , but also 8443 in minikube and 8080 as insecure. Syntax Example 443 Example 6443 Example 8443 Example 8080 1 2 3 curl -k https://<IP Address>: ( 8 | 6 ) 443 /swaggerapi curl -k https://<IP Address>: ( 8 | 6 ) 443 /healthz curl -k https://<IP Address>: ( 8 | 6 ) 443 /api/v1 1 2 3 curl -k https://127.0.0.1:443/swaggerapi curl -k https://127.0.0.1:443/healthz curl -k https://127.0.0.1:443/api/v1 1 2 3 curl -k https://127.0.0.1:6443/swaggerapi curl -k https://127.0.0.1:6443/healthz curl -k https://127.0.0.1:6443/api/v1 1 2 3 curl -k https://127.0.0.1:8443/swaggerapi curl -k https://127.0.0.1:8443/healthz curl -k https://127.0.0.1:8443/api/v1 1 2 3 curl -k https://127.0.0.1:8080/swaggerapi curl -k https://127.0.0.1:8080/healthz curl -k https://127.0.0.1:8080/api/v1 Check the following page to learn how to obtain sensitive data and perform sensitive actions talking to this service: Kubernetes Enumeration Kubelet API \u00b6 This service run in every node of the cluster . It's the service that will control the pods inside the node . It talks with the kube-apiserver . If we find this service exposed we might have found and unauthenticated RCE Kubelet API \u00b6 Example Syntax 1 2 curl -k https://127.0.0.1:10250/metrics curl -k https://127.0.0.1:10250/pods 1 2 curl -k https://<IP address>:10250/metrics curl -k https://<IP address>:10250/pods If the response is Unauthorized then it requires authentication. If we can list nodes we can get a list of kubelets endpoints with: 1 2 3 4 5 6 kubectl get nodes -o custom-columns = 'IP:.status.addresses[0].address,KUBELET_PORT:.status.daemonEndpoints.kubeletEndpoint.Port' | grep -v KUBELET_PORT | while IFS = '' read -r node ; do ip = $( echo $node | awk '{print $1}' ) port = $( echo $node | awk '{print $2}' ) echo \"curl -k --max-time 30 https:// $ip : $port /pods\" echo \"curl -k --max-time 30 https:// $ip :2379/version\" #Check also for etcd done Kubeket (Read only) \u00b6 Example Syntax 1 2 curl -k https://127.0.0.1:10255 http://111.0.0.1:10255/pods 1 2 curl -k https://<IP Address>:10255 http://<external-IP>:10255/pods etcd API \u00b6 Example Syntax 1 2 3 curl -k https://127.0.0.1:2379 curl -k https://127.0.0.1:2379/version etcdctl --endpoints = http://127.0.0.1:2379 get / --prefix --keys-only 1 2 3 curl -k https://<IP address>:2379 curl -k https://<IP address>:2379/version etcdctl --endpoints = http://<MASTER-IP>:2379 get / --prefix --keys-only Tiller \u00b6 1 helm --host tiller-deploy.kube-system:44134 version We could abuse this service to escalte privileges inside Kubernetes: 44134 - Pentesting Tiller (Helm) cAdvisor \u00b6 Example Syntax 1 curl -k https://127.0.0.1:4194 1 curl -k https://<IP Address>:4194 NodePort \u00b6 When a port is exposed in all the nodes via a NodePort , the same port is opened in all the nodes proxifying the traffic into the declared Service . By default this port will be in the range 30000 - 32767 . So new unchecked services might be accessible through those ports. Example Syntax 1 sudo nmap -sS -p 30000 -32767 127 .0.0.1 1 sudo nmap -sS -p 30000 -32767 <IP> --- ## Vulnerable Misconfigurations ### Kube-apiserver Anonymous Access By **default**, **kube-apiserver** API endpoints are **forbidden** to **anonymous** access. But it's always a good idea to check if there are any **insecure endpoints that expose sensitive information** ![Screenshot](img/kube-pen-fig-1.png) ### Checking for ETCD Anonymous Access The ETCD stores the cluster secrets, configuration files and more **sensitive data**. By **default**, the ETCD **cannot** be accessed **anonymously**, but it always good to check. If the ETCD can be accessed anonymously, you may need to **use the [etcdctl](https://github.com/etcd-io/etcd/blob/master/etcdctl/READMEv2.md) tool**. The following command will get all the keys stored: === \"Example\" ```{ .sh .annotate linenums=\"1\"} etcdctl --endpoints=http://127.0.0.1:2379 get / --prefix --keys-only ``` === \"Syntax\" ```{ .sh .annotate linenums=\"1\"} etcdctl --endpoints=http://<MASTER-IP>:2379 get / --prefix --keys-only ``` ### Kubelet RCE The **[Kubelet documentation](https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/)** explains that by **default anonymous access** to the service is **allowed**: ```{ .sh .annotate linenums=\"1\"} --anonymous-auth Default: true Enables anonymous requests to the Kubelet server. Requests that are not rejected by another authentication method are treated as anonymous requests. Anonymous requests have a username of system:anonymous, and a group name of system:unauthenticated. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See kubelet-config-file for more information.) The Kubelet service API is not documented , but the source code can be found here and finding the exposed endpoints is as easy as running : Example Syntax 1 curl -s https://raw.githubusercontent.com/kubernetes/kubernetes/master/pkg/kubelet/server/server.go | grep 'Path(\"/' 1 curl -s https://raw.githubusercontent.com/kubernetes/kubernetes/master/pkg/kubelet/server/server.go | grep 'Path(\"/' Expected output 1 2 3 4 5 6 7 Path ( \"/pods\" ) . Path ( \"/run\" ) Path ( \"/exec\" ) Path ( \"/attach\" ) Path ( \"/portForward\" ) Path ( \"/containerLogs\" ) Path ( \"/runningpods/\" ) . All of them sounds interesting. /pods \u00b6 This endpoint list pods and their containers: Example Syntax 1 curl -ks https://worker:10250/pod 1 curl -ks https://worker:10250/pods Expected output 1 /exec \u00b6 This endpoint allows to execute code inside any container very easily: Syntax Example 1 2 3 4 # Tthe command is passed as an array (split by spaces) and that is a GET request. curl -Gks https://worker:10250/exec/ { namespace } / { pod } / { container } \\ -d 'input=1' -d 'output=1' -d 'tty=1' \\ -d 'command=ls' -d 'command=/' 1 2 3 4 # Tthe command is passed as an array (split by spaces) and that is a GET request. curl -Gks https://worker:10250/exec/ { namespace } / { pod } / { container } \\ -d 'input=1' -d 'output=1' -d 'tty=1' \\ -d 'command=ls' -d 'command=/' Expected output 1 To automate the exploitation you can also use the script kubelet-anon-rce Info To avoid this attack the kubelet service should be run with --anonymous-auth false and the service should be segregated at the network level. Checking Kubelet (Read Only Port) Information Exposure \u00b6","title":"Pentesting Kubernetes Services"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#overview","text":"","title":"Overview"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#pentesting-kubernetes-services","text":"","title":"Pentesting Kubernetes Services"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#finding-exposed-pods-with-osint","text":"One way could be searching for Identity LIKE \"k8s.%.com\" in crt.sh to find subdomains related to kubernetes. Another way might be to search \"k8s.%.com\" in github and search for YAML files containing the string.","title":"Finding exposed pods with OSINT"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#how-kubernetes-exposes-services","text":"It might be useful for us to understand how Kubernetes can expose services publicly in order to find them: Exposing Services in Kubernetes","title":"How Kubernetes Exposes Services"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#finding-exposed-pods-via-port-scanning","text":"The following ports might be open in Kubernetes cluster: Port Process Description Protocol 2379 etcd TCP 6666 etcd etcd TCP 4194 cAdvisor Container metrics TCP 443 kube-apiserver Kubernetes API port TCP 6443 kube-apiserver Kubernetes API port TCP 8443 kube-apiserver Minukube API port TCP 8080 kube-apiserver Insecure API port TCP 10250 kubelet HTTPS API which allows full mode access TCP 10255 kubelet Unauthenticated read-only HTTP port: pods, running pods, and node state TCP 10256 kube-proxy Kube Proxy health check server TCP 9099 calico-felix Health check server for Calico TCP 6782-6784 weave Metrics and endpoints TCP 30000-32767 NodePort Proxy to the services TCP 44134 Tiller Helm service listening TCP","title":"Finding Exposed pods via port scanning"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#nmap","text":"Example Syntax 1 nmap -n -T4 -p 443 ,2379,6666,4194,6443,8443,8080,10250,10255,10256,9099,6782-6784,30000-32767,44134 10 .244.0.137/16 1 nmap -n -T4 -p 443 ,2379,6666,4194,6443,8443,8080,10250,10255,10256,9099,6782-6784,30000-32767,44134 <pod_ipaddress>/16","title":"Nmap"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#kube-apiserver","text":"This is the API Kubernetes service the administrator talks with usually using the tool kubeclt . Common ports: 6443 and 443 , but also 8443 in minikube and 8080 as insecure. Syntax Example 443 Example 6443 Example 8443 Example 8080 1 2 3 curl -k https://<IP Address>: ( 8 | 6 ) 443 /swaggerapi curl -k https://<IP Address>: ( 8 | 6 ) 443 /healthz curl -k https://<IP Address>: ( 8 | 6 ) 443 /api/v1 1 2 3 curl -k https://127.0.0.1:443/swaggerapi curl -k https://127.0.0.1:443/healthz curl -k https://127.0.0.1:443/api/v1 1 2 3 curl -k https://127.0.0.1:6443/swaggerapi curl -k https://127.0.0.1:6443/healthz curl -k https://127.0.0.1:6443/api/v1 1 2 3 curl -k https://127.0.0.1:8443/swaggerapi curl -k https://127.0.0.1:8443/healthz curl -k https://127.0.0.1:8443/api/v1 1 2 3 curl -k https://127.0.0.1:8080/swaggerapi curl -k https://127.0.0.1:8080/healthz curl -k https://127.0.0.1:8080/api/v1 Check the following page to learn how to obtain sensitive data and perform sensitive actions talking to this service: Kubernetes Enumeration","title":"Kube-apiserver"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#kubelet-api","text":"This service run in every node of the cluster . It's the service that will control the pods inside the node . It talks with the kube-apiserver . If we find this service exposed we might have found and unauthenticated RCE","title":"Kubelet API"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#kubelet-api_1","text":"Example Syntax 1 2 curl -k https://127.0.0.1:10250/metrics curl -k https://127.0.0.1:10250/pods 1 2 curl -k https://<IP address>:10250/metrics curl -k https://<IP address>:10250/pods If the response is Unauthorized then it requires authentication. If we can list nodes we can get a list of kubelets endpoints with: 1 2 3 4 5 6 kubectl get nodes -o custom-columns = 'IP:.status.addresses[0].address,KUBELET_PORT:.status.daemonEndpoints.kubeletEndpoint.Port' | grep -v KUBELET_PORT | while IFS = '' read -r node ; do ip = $( echo $node | awk '{print $1}' ) port = $( echo $node | awk '{print $2}' ) echo \"curl -k --max-time 30 https:// $ip : $port /pods\" echo \"curl -k --max-time 30 https:// $ip :2379/version\" #Check also for etcd done","title":"Kubelet API"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#kubeket-read-only","text":"Example Syntax 1 2 curl -k https://127.0.0.1:10255 http://111.0.0.1:10255/pods 1 2 curl -k https://<IP Address>:10255 http://<external-IP>:10255/pods","title":"Kubeket (Read only)"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#etcd-api","text":"Example Syntax 1 2 3 curl -k https://127.0.0.1:2379 curl -k https://127.0.0.1:2379/version etcdctl --endpoints = http://127.0.0.1:2379 get / --prefix --keys-only 1 2 3 curl -k https://<IP address>:2379 curl -k https://<IP address>:2379/version etcdctl --endpoints = http://<MASTER-IP>:2379 get / --prefix --keys-only","title":"etcd API"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#tiller","text":"1 helm --host tiller-deploy.kube-system:44134 version We could abuse this service to escalte privileges inside Kubernetes: 44134 - Pentesting Tiller (Helm)","title":"Tiller"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#cadvisor","text":"Example Syntax 1 curl -k https://127.0.0.1:4194 1 curl -k https://<IP Address>:4194","title":"cAdvisor"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#nodeport","text":"When a port is exposed in all the nodes via a NodePort , the same port is opened in all the nodes proxifying the traffic into the declared Service . By default this port will be in the range 30000 - 32767 . So new unchecked services might be accessible through those ports. Example Syntax 1 sudo nmap -sS -p 30000 -32767 127 .0.0.1 1 sudo nmap -sS -p 30000 -32767 <IP> --- ## Vulnerable Misconfigurations ### Kube-apiserver Anonymous Access By **default**, **kube-apiserver** API endpoints are **forbidden** to **anonymous** access. But it's always a good idea to check if there are any **insecure endpoints that expose sensitive information** ![Screenshot](img/kube-pen-fig-1.png) ### Checking for ETCD Anonymous Access The ETCD stores the cluster secrets, configuration files and more **sensitive data**. By **default**, the ETCD **cannot** be accessed **anonymously**, but it always good to check. If the ETCD can be accessed anonymously, you may need to **use the [etcdctl](https://github.com/etcd-io/etcd/blob/master/etcdctl/READMEv2.md) tool**. The following command will get all the keys stored: === \"Example\" ```{ .sh .annotate linenums=\"1\"} etcdctl --endpoints=http://127.0.0.1:2379 get / --prefix --keys-only ``` === \"Syntax\" ```{ .sh .annotate linenums=\"1\"} etcdctl --endpoints=http://<MASTER-IP>:2379 get / --prefix --keys-only ``` ### Kubelet RCE The **[Kubelet documentation](https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/)** explains that by **default anonymous access** to the service is **allowed**: ```{ .sh .annotate linenums=\"1\"} --anonymous-auth Default: true Enables anonymous requests to the Kubelet server. Requests that are not rejected by another authentication method are treated as anonymous requests. Anonymous requests have a username of system:anonymous, and a group name of system:unauthenticated. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See kubelet-config-file for more information.) The Kubelet service API is not documented , but the source code can be found here and finding the exposed endpoints is as easy as running : Example Syntax 1 curl -s https://raw.githubusercontent.com/kubernetes/kubernetes/master/pkg/kubelet/server/server.go | grep 'Path(\"/' 1 curl -s https://raw.githubusercontent.com/kubernetes/kubernetes/master/pkg/kubelet/server/server.go | grep 'Path(\"/' Expected output 1 2 3 4 5 6 7 Path ( \"/pods\" ) . Path ( \"/run\" ) Path ( \"/exec\" ) Path ( \"/attach\" ) Path ( \"/portForward\" ) Path ( \"/containerLogs\" ) Path ( \"/runningpods/\" ) . All of them sounds interesting.","title":"NodePort"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#pods","text":"This endpoint list pods and their containers: Example Syntax 1 curl -ks https://worker:10250/pod 1 curl -ks https://worker:10250/pods Expected output 1","title":"/pods"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#exec","text":"This endpoint allows to execute code inside any container very easily: Syntax Example 1 2 3 4 # Tthe command is passed as an array (split by spaces) and that is a GET request. curl -Gks https://worker:10250/exec/ { namespace } / { pod } / { container } \\ -d 'input=1' -d 'output=1' -d 'tty=1' \\ -d 'command=ls' -d 'command=/' 1 2 3 4 # Tthe command is passed as an array (split by spaces) and that is a GET request. curl -Gks https://worker:10250/exec/ { namespace } / { pod } / { container } \\ -d 'input=1' -d 'output=1' -d 'tty=1' \\ -d 'command=ls' -d 'command=/' Expected output 1 To automate the exploitation you can also use the script kubelet-anon-rce Info To avoid this attack the kubelet service should be run with --anonymous-auth false and the service should be segregated at the network level.","title":"/exec"},{"location":"content/en/docs/kubernetes/pentesting-kubernetes-services/#checking-kubelet-read-only-port-information-exposure","text":"","title":"Checking Kubelet (Read Only Port) Information Exposure"},{"location":"content/en/docs/linux/checklist-linux-privilege-escalation/","tags":["linux"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Checklist - Linux Privilege Escalation"},{"location":"content/en/docs/linux/checklist-linux-privilege-escalation/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/checklist-linux-privilege-escalation/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/checklist-linux-privilege-escalation/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/checklist-linux-privilege-escalation/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/checklist-linux-privilege-escalation/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/checklist-linux-privilege-escalation/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/ddexec/","tags":["linux"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"DDexec"},{"location":"content/en/docs/linux/ddexec/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/ddexec/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/ddexec/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/ddexec/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/ddexec/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/ddexec/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/linux-capabilities/","tags":["linux"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Linux Capabilities"},{"location":"content/en/docs/linux/linux-capabilities/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/linux-capabilities/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/linux-capabilities/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/linux-capabilities/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/linux-capabilities/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/linux-capabilities/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/linux-environment-variables/","tags":["linux"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Linux Environment Variables"},{"location":"content/en/docs/linux/linux-environment-variables/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/linux-environment-variables/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/linux-environment-variables/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/linux-environment-variables/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/linux-environment-variables/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/linux-environment-variables/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/useful-linux-commands/","tags":["linux"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Useful Linux Commands"},{"location":"content/en/docs/linux/useful-linux-commands/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/useful-linux-commands/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/useful-linux-commands/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/useful-linux-commands/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/useful-linux-commands/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/useful-linux-commands/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/docker/abusing-docker-socket-for-privilege-escalation/","tags":["linux","docker"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Abusing Docker Socket for Privilege Escalation"},{"location":"content/en/docs/linux/docker/abusing-docker-socket-for-privilege-escalation/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/docker/abusing-docker-socket-for-privilege-escalation/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/docker/abusing-docker-socket-for-privilege-escalation/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/docker/abusing-docker-socket-for-privilege-escalation/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/docker/abusing-docker-socket-for-privilege-escalation/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/docker/abusing-docker-socket-for-privilege-escalation/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/docker/apparmor/","tags":["linux","docker"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"AppArmor"},{"location":"content/en/docs/linux/docker/apparmor/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/docker/apparmor/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/docker/apparmor/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/docker/apparmor/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/docker/apparmor/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/docker/apparmor/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/docker/authz-authn-docker-access-authorization-plugin/","tags":["linux","docker"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"AuthZ & AuthN - Docker Access Authorization Plugin"},{"location":"content/en/docs/linux/docker/authz-authn-docker-access-authorization-plugin/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/docker/authz-authn-docker-access-authorization-plugin/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/docker/authz-authn-docker-access-authorization-plugin/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/docker/authz-authn-docker-access-authorization-plugin/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/docker/authz-authn-docker-access-authorization-plugin/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/docker/authz-authn-docker-access-authorization-plugin/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/docker/docker--privileged/","tags":["linux","docker"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Docker --privileged"},{"location":"content/en/docs/linux/docker/docker--privileged/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/docker/docker--privileged/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/docker/docker--privileged/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/docker/docker--privileged/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/docker/docker--privileged/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/docker/docker--privileged/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/docker/docker-release_agent-cgroups-escape/","tags":["linux","docker"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Docker release_agent cgroups escape"},{"location":"content/en/docs/linux/docker/docker-release_agent-cgroups-escape/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/docker/docker-release_agent-cgroups-escape/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/docker/docker-release_agent-cgroups-escape/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/docker/docker-release_agent-cgroups-escape/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/docker/docker-release_agent-cgroups-escape/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/docker/docker-release_agent-cgroups-escape/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/docker/namespaces/","tags":["linux","docker"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Namespaces"},{"location":"content/en/docs/linux/docker/namespaces/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/docker/namespaces/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/docker/namespaces/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/docker/namespaces/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/docker/namespaces/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/docker/namespaces/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/docker/release_agent-exploit-relative-paths-to-pids/","tags":["linux","docker"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"release_agent exploit - Relative Paths to PIDs"},{"location":"content/en/docs/linux/docker/release_agent-exploit-relative-paths-to-pids/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/docker/release_agent-exploit-relative-paths-to-pids/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/docker/release_agent-exploit-relative-paths-to-pids/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/docker/release_agent-exploit-relative-paths-to-pids/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/docker/release_agent-exploit-relative-paths-to-pids/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/docker/release_agent-exploit-relative-paths-to-pids/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/docker/seccomp/","tags":["linux","docker"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Seccomp"},{"location":"content/en/docs/linux/docker/seccomp/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/docker/seccomp/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/docker/seccomp/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/docker/seccomp/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/docker/seccomp/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/docker/seccomp/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/linux/docker/sensitive-mounts/","tags":["linux","docker"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Sensitive Mounts"},{"location":"content/en/docs/linux/docker/sensitive-mounts/#overview","text":"","title":"Overview"},{"location":"content/en/docs/linux/docker/sensitive-mounts/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/linux/docker/sensitive-mounts/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/linux/docker/sensitive-mounts/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/linux/docker/sensitive-mounts/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/linux/docker/sensitive-mounts/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/pentesting/network/44134-pentesting-tiller-helm/","tags":["pentesting","network"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"44134 Pentesting Tiller (Helm)"},{"location":"content/en/docs/pentesting/network/44134-pentesting-tiller-helm/#overview","text":"","title":"Overview"},{"location":"content/en/docs/pentesting/network/44134-pentesting-tiller-helm/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/pentesting/network/44134-pentesting-tiller-helm/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/pentesting/network/44134-pentesting-tiller-helm/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/pentesting/network/44134-pentesting-tiller-helm/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/pentesting/network/44134-pentesting-tiller-helm/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/service-mesh/istio/concepts/istio_basic_service_mesh/","tags":["service mesh"],"text":"Overview \u00b6 Service Mesh introduction Body \u00b6 Single proxy in the form of a sidecar container to replace all the different requirements into each microservice. The proxies communicate with each other through what is known as a data plane and they communicate to a server site component called control plane. Control plane manages all the traffic into and out of your services via proxies, so all the networking logic is abstracted from your business code. This approach is known as a Service Mesh. What is Service Mesh? \u00b6 Service Mesh is a dedicated and configurable infrastructure layer that handles the communication between services without having to change the code in a microservice architecture. What is Service Mesh Responsible For? \u00b6 With the Service Mesh, you can dynamically configure how services talk to each other. When services talk to one another, you'll have mutual TLS, so your workloads can be secure. You can see thing better Whatsnext \u00b6","title":"Basic Service Mesh"},{"location":"content/en/docs/service-mesh/istio/concepts/istio_basic_service_mesh/#overview","text":"Service Mesh introduction","title":"Overview"},{"location":"content/en/docs/service-mesh/istio/concepts/istio_basic_service_mesh/#body","text":"Single proxy in the form of a sidecar container to replace all the different requirements into each microservice. The proxies communicate with each other through what is known as a data plane and they communicate to a server site component called control plane. Control plane manages all the traffic into and out of your services via proxies, so all the networking logic is abstracted from your business code. This approach is known as a Service Mesh.","title":"Body"},{"location":"content/en/docs/service-mesh/istio/concepts/istio_basic_service_mesh/#what-is-service-mesh","text":"Service Mesh is a dedicated and configurable infrastructure layer that handles the communication between services without having to change the code in a microservice architecture.","title":"What is Service Mesh?"},{"location":"content/en/docs/service-mesh/istio/concepts/istio_basic_service_mesh/#what-is-service-mesh-responsible-for","text":"With the Service Mesh, you can dynamically configure how services talk to each other. When services talk to one another, you'll have mutual TLS, so your workloads can be secure. You can see thing better","title":"What is Service Mesh Responsible For?"},{"location":"content/en/docs/service-mesh/istio/concepts/istio_basic_service_mesh/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/service-mesh/istio/concepts/istio_monoliths_and_microservices/","tags":["monoliths","microservices"],"text":"Overview \u00b6 Body \u00b6 Pros of Microservices \u00b6 Scalability. Faster, smaller releases, and less risky. Technology and language agnostic Development lifecycle. System resiliency and isolation. Independent and easy to understand services. Cons of Microservices \u00b6 Complex Service Networking Security Observability Overload for Traditional Operation Models Whatsnext \u00b6","title":"Monoliths vs Microservices"},{"location":"content/en/docs/service-mesh/istio/concepts/istio_monoliths_and_microservices/#overview","text":"","title":"Overview"},{"location":"content/en/docs/service-mesh/istio/concepts/istio_monoliths_and_microservices/#body","text":"","title":"Body"},{"location":"content/en/docs/service-mesh/istio/concepts/istio_monoliths_and_microservices/#pros-of-microservices","text":"Scalability. Faster, smaller releases, and less risky. Technology and language agnostic Development lifecycle. System resiliency and isolation. Independent and easy to understand services.","title":"Pros of Microservices"},{"location":"content/en/docs/service-mesh/istio/concepts/istio_monoliths_and_microservices/#cons-of-microservices","text":"Complex Service Networking Security Observability Overload for Traditional Operation Models","title":"Cons of Microservices"},{"location":"content/en/docs/service-mesh/istio/concepts/istio_monoliths_and_microservices/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/service-mesh/istio/references/reference-page-template/","tags":["reference"],"text":"Synopsis \u00b6 options \u00b6 options from parent commands \u00b6 examples \u00b6 seealso \u00b6","title":"Synopsis"},{"location":"content/en/docs/service-mesh/istio/references/reference-page-template/#synopsis","text":"","title":"Synopsis"},{"location":"content/en/docs/service-mesh/istio/references/reference-page-template/#options","text":"","title":"options"},{"location":"content/en/docs/service-mesh/istio/references/reference-page-template/#options-from-parent-commands","text":"","title":"options from parent commands"},{"location":"content/en/docs/service-mesh/istio/references/reference-page-template/#examples","text":"","title":"examples"},{"location":"content/en/docs/service-mesh/istio/references/reference-page-template/#seealso","text":"","title":"seealso"},{"location":"content/en/docs/service-mesh/istio/tasks/task-page-template/","tags":["task"],"text":"Overview \u00b6 Prerequisites \u00b6 Steps \u00b6 Discussion \u00b6 Whatsnext \u00b6","title":"Overview"},{"location":"content/en/docs/service-mesh/istio/tasks/task-page-template/#overview","text":"","title":"Overview"},{"location":"content/en/docs/service-mesh/istio/tasks/task-page-template/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/service-mesh/istio/tasks/task-page-template/#steps","text":"","title":"Steps"},{"location":"content/en/docs/service-mesh/istio/tasks/task-page-template/#discussion","text":"","title":"Discussion"},{"location":"content/en/docs/service-mesh/istio/tasks/task-page-template/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/service-mesh/istio/tutorials/tutorial-page-template/","tags":["tutorial"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Overview"},{"location":"content/en/docs/service-mesh/istio/tutorials/tutorial-page-template/#overview","text":"","title":"Overview"},{"location":"content/en/docs/service-mesh/istio/tutorials/tutorial-page-template/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/service-mesh/istio/tutorials/tutorial-page-template/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/service-mesh/istio/tutorials/tutorial-page-template/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/service-mesh/istio/tutorials/tutorial-page-template/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/service-mesh/istio/tutorials/tutorial-page-template/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/welcome/about-the-author/","tags":["author","w/vi","vi"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"About the author"},{"location":"content/en/docs/welcome/about-the-author/#overview","text":"","title":"Overview"},{"location":"content/en/docs/welcome/about-the-author/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/welcome/about-the-author/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/welcome/about-the-author/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/welcome/about-the-author/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/welcome/about-the-author/#whatsnext","text":"","title":"Whatsnext"},{"location":"content/en/docs/welcome/getting-started-in-hacking/","tags":["author","w/vi","vi"],"text":"Overview \u00b6 Prerequisites \u00b6 objectives \u00b6 lessoncontent \u00b6 cleanup \u00b6 Whatsnext \u00b6","title":"Getting started in hacking"},{"location":"content/en/docs/welcome/getting-started-in-hacking/#overview","text":"","title":"Overview"},{"location":"content/en/docs/welcome/getting-started-in-hacking/#prerequisites","text":"","title":"Prerequisites"},{"location":"content/en/docs/welcome/getting-started-in-hacking/#objectives","text":"","title":"objectives"},{"location":"content/en/docs/welcome/getting-started-in-hacking/#lessoncontent","text":"","title":"lessoncontent"},{"location":"content/en/docs/welcome/getting-started-in-hacking/#cleanup","text":"","title":"cleanup"},{"location":"content/en/docs/welcome/getting-started-in-hacking/#whatsnext","text":"","title":"Whatsnext"},{"location":"tags/","text":"Tags \u00b6 Following is a list of relevant tags: author \u00b6 About the author Getting started in hacking aws \u00b6 AWS circleci \u00b6 CircleCI cloud \u00b6 AWS CircleCI Github Jenkins docker \u00b6 Abusing Docker Socket for Privilege Escalation AppArmor AuthZ & AuthN - Docker Access Authorization Plugin Docker --privileged Docker release_agent cgroups escape Namespaces release_agent exploit - Relative Paths to PIDs Seccomp Sensitive Mounts github \u00b6 Github jenkins \u00b6 Jenkins k8s \u00b6 Abusing Roles/ClusterRoles in Kubernetes Attacking Kubernetes from inside a Pod Exposing Services in Kubernetes Kubernetes Access to other Clouds Kubernetes Basics Kubernetes Enumeration Kubernetes Kubernetes Namespace Escalation Kubernetes Network Attacks Kubernetes Role-Based Access Control (RBAC) Pentesting Kubernetes Services kubernetes \u00b6 Abusing Roles/ClusterRoles in Kubernetes Attacking Kubernetes from inside a Pod Exposing Services in Kubernetes Kubernetes Access to other Clouds Kubernetes Basics Kubernetes Enumeration Kubernetes Kubernetes Namespace Escalation Kubernetes Network Attacks Kubernetes Role-Based Access Control (RBAC) Pentesting Kubernetes Services linux \u00b6 Checklist - Linux Privilege Escalation DDexec Linux Capabilities Linux Environment Variables Useful Linux Commands Abusing Docker Socket for Privilege Escalation AppArmor AuthZ & AuthN - Docker Access Authorization Plugin Docker --privileged Docker release_agent cgroups escape Namespaces release_agent exploit - Relative Paths to PIDs Seccomp Sensitive Mounts microservices \u00b6 Monoliths vs Microservices monoliths \u00b6 Monoliths vs Microservices network \u00b6 44134 Pentesting Tiller (Helm) pentesting \u00b6 44134 Pentesting Tiller (Helm) reference \u00b6 Synopsis service mesh \u00b6 Basic Service Mesh task \u00b6 Overview tutorial \u00b6 Overview vi \u00b6 About the author Getting started in hacking w/vi \u00b6 About the author Getting started in hacking","title":"Tags"},{"location":"tags/#tags","text":"Following is a list of relevant tags:","title":"Tags"},{"location":"tags/#author","text":"About the author Getting started in hacking","title":"author"},{"location":"tags/#aws","text":"AWS","title":"aws"},{"location":"tags/#circleci","text":"CircleCI","title":"circleci"},{"location":"tags/#cloud","text":"AWS CircleCI Github Jenkins","title":"cloud"},{"location":"tags/#docker","text":"Abusing Docker Socket for Privilege Escalation AppArmor AuthZ & AuthN - Docker Access Authorization Plugin Docker --privileged Docker release_agent cgroups escape Namespaces release_agent exploit - Relative Paths to PIDs Seccomp Sensitive Mounts","title":"docker"},{"location":"tags/#github","text":"Github","title":"github"},{"location":"tags/#jenkins","text":"Jenkins","title":"jenkins"},{"location":"tags/#k8s","text":"Abusing Roles/ClusterRoles in Kubernetes Attacking Kubernetes from inside a Pod Exposing Services in Kubernetes Kubernetes Access to other Clouds Kubernetes Basics Kubernetes Enumeration Kubernetes Kubernetes Namespace Escalation Kubernetes Network Attacks Kubernetes Role-Based Access Control (RBAC) Pentesting Kubernetes Services","title":"k8s"},{"location":"tags/#kubernetes","text":"Abusing Roles/ClusterRoles in Kubernetes Attacking Kubernetes from inside a Pod Exposing Services in Kubernetes Kubernetes Access to other Clouds Kubernetes Basics Kubernetes Enumeration Kubernetes Kubernetes Namespace Escalation Kubernetes Network Attacks Kubernetes Role-Based Access Control (RBAC) Pentesting Kubernetes Services","title":"kubernetes"},{"location":"tags/#linux","text":"Checklist - Linux Privilege Escalation DDexec Linux Capabilities Linux Environment Variables Useful Linux Commands Abusing Docker Socket for Privilege Escalation AppArmor AuthZ & AuthN - Docker Access Authorization Plugin Docker --privileged Docker release_agent cgroups escape Namespaces release_agent exploit - Relative Paths to PIDs Seccomp Sensitive Mounts","title":"linux"},{"location":"tags/#microservices","text":"Monoliths vs Microservices","title":"microservices"},{"location":"tags/#monoliths","text":"Monoliths vs Microservices","title":"monoliths"},{"location":"tags/#network","text":"44134 Pentesting Tiller (Helm)","title":"network"},{"location":"tags/#pentesting","text":"44134 Pentesting Tiller (Helm)","title":"pentesting"},{"location":"tags/#reference","text":"Synopsis","title":"reference"},{"location":"tags/#service-mesh","text":"Basic Service Mesh","title":"service mesh"},{"location":"tags/#task","text":"Overview","title":"task"},{"location":"tags/#tutorial","text":"Overview","title":"tutorial"},{"location":"tags/#vi","text":"About the author Getting started in hacking","title":"vi"},{"location":"tags/#wvi","text":"About the author Getting started in hacking","title":"w/vi"}]}